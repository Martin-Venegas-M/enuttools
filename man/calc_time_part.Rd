% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/calc_time_part.R
\name{calc_time_part}
\alias{calc_time_part}
\title{Derive participation or time-use variables from survey data}
\usage{
calc_time_part(
  data,
  type = c("part", "tiempo"),
  vars_fuente,
  var_derivada,
  cod_perdido = -777
)
}
\arguments{
\item{data}{A data frame containing the source variables.}

\item{type}{A character string indicating the type of derived variable.
Options are:
\itemize{
  \item \code{"part"}: Creates a binary participation variable (0/1)
        or assigns a missing code if applicable.
  \item \code{"tiempo"}: Creates a time-use variable by summing across
        source variables, after recoding zeros and missing codes to \code{NA}.
}}

\item{vars_fuente}{A character vector of column names used as source variables.}

\item{var_derivada}{A symbol or string giving the name of the new derived variable.}

\item{cod_perdido}{A numeric value indicating the code used for missing data
in the source variables. Default is \code{-777}.}
}
\value{
A data frame with the new derived variable added.
}
\description{
This function creates derived variables for participation or time use
in time-use surveys based on a list of source variables.
It can generate either a participation indicator (\code{"part"}) or
a time-use variable (\code{"tiempo"}) depending on the specified type.
}
\details{
For \code{type = "part"}:
\itemize{
  \item If \code{informante_kish == 0}, the derived variable is set to \code{NA}.
  \item If all source variables equal the missing code, the derived variable is
        set to \code{cod_perdido}.
  \item If at least one source variable equals 1, the derived variable is set to \code{1}.
  \item Otherwise, it is set to \code{0}.
}

For \code{type = "tiempo"}:
\itemize{
  \item Temporary variables are created from each source variable, where values equal
        to \code{0} or \code{cod_perdido} are recoded as \code{NA}.
  \item The derived variable is the row sum of these temporary variables, ignoring \code{NA}.
  \item If the resulting sum is 0, it is recoded as \code{NA}.
  \item Temporary variables are dropped from the final output.
}
}
\examples{
\dontrun{
library(dplyr)
df <- tibble(
  informante_kish = c(1, 0, 1),
  act1 = c(1, -777, 0),
  act2 = c(0, -777, 1)
)

# Example: participation variable
derivar_vars(df, type = "part", vars_fuente = c("act1", "act2"), var_derivada = "part_act")

# Example: time-use variable
derivar_vars(df, type = "tiempo", vars_fuente = c("act1", "act2"), var_derivada = "time_act")
}
}
